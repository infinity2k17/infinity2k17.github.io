(function(n,t){var i=n.jQuery,r=n.document,u=n._;i(function(){var u=i("nav#main-nav").first(),f=i("a.barnandco-toc-link").first(),h=i(n),c=i(r.body),e=function(){var e=i("<button/>",{id:"close-bn",text:"Close"}),n=u.find("ul"),t;n.hide();t=i("html").hasClass("mobile")?{top:"+=100%"}:{right:"+=100%"};u.data().state!==1&&(f.fadeOut(),u.stop().animate(t,1e3,function(){u.find("a").not(r.getElementById("book-availability")).on("click.menu",s);e.appendTo(u).fadeIn().on("click",o);n.fadeIn();u.data("state",1)}))},o=function(){var t=u.find("#close-bn").first(),n;n=i("html").hasClass("mobile")?{top:"-=100%"}:{right:"-=100%"};u.data().state!==0&&u.stop().animate(n,500,function(){t.remove();f.fadeIn();u.removeAttr("style").data("state",0)})},s=function(r){var f=i(this);if(f.data().isPrevented===t||f.data().isPrevented)return r.preventDefault(),f.data().isPrevented===t&&(f.data("isPrevented",!0),u.find("li").not(f.parent()).animate({opacity:0},500).promise().done(function(){f.data("isPrevented",!1).click()})),!1;n.location.href=f.prop("href")};f.on("click",function(n){return e(),n.preventDefault(),!1})})})(window);